<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-back-button text="" defaultHref="/account"></ion-back-button>
        </ion-buttons>

        <ion-title> Preferences </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div class="ion-padding" *ngIf="errored">Something went wrong</div>

    <div *ngIf="!settings">
        <ion-list-header>
            <ion-skeleton-text [animated]="!errored" style="width: 35%; margin-bottom: 15px"></ion-skeleton-text>
        </ion-list-header>

        <ion-item *ngFor="let n of [0, 1, 2, 3, 4]" lines="full">
            <ion-label>
                <h3><ion-skeleton-text [animated]="!errored" style="width: 25%"></ion-skeleton-text></h3>
                <p><ion-skeleton-text [animated]="!errored" style="width: 50%"></ion-skeleton-text></p>
            </ion-label>
            <ion-skeleton-text [animated]="!errored" style="width: 50px; height: 20px"></ion-skeleton-text>
        </ion-item>
    </div>

    <ion-list *ngIf="settings">
        <ion-item lines="full" *ngFor="let pref of prefs">
            <ion-label>{{ "settings.preferences." + pref.key + ".title" | trx }}</ion-label>

            <!-- <small>{{ "settings.preferences." + pref.key + ".subtitle" | trx }}</small> -->
            <ion-toggle slot="end" [ngModel]="pref.value" (ngModelChange)="toggle(pref.key, $event)"></ion-toggle>
        </ion-item>
    </ion-list>
</ion-content>
